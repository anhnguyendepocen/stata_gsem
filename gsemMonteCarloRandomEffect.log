---------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /work/A0943_vjh3_group/Estimation/gsemPractice/gsemMonteCarloRandomEffect.log
  log type:  text
 opened on:   7 Jan 2014, 13:30:51

. 
. set seed 32

. set obs 1000000
obs was 0, now 1000000

. 
. scalar T = 10

. gen ID = floor((_n-1)/`=T')+1

. bys ID: gen period = _n

. xtset ID period
       panel variable:  ID (strongly balanced)
        time variable:  period, 1 to 10
                delta:  1 unit

. xtsum ID

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
ID       overall |   50000.5   28867.53          1     100000 |     N = 1000000
         between |             28867.66          1     100000 |     n =  100000
         within  |                    0    50000.5    50000.5 |     T =      10

. 
. scalar bcons  = 1.45

. scalar bafqt  = .15

. scalar bexper = .05

. scalar alpha  = .32

. 
. gen afqtA = rnormal(0,1)

. bys ID: gen afqt = afqtA[1]

. gen factA = rnormal(0,1)

. bys ID: gen fact = factA[1]

. drop afqtA factA

. 
. gen double noise = rnormal(0,.35)

. gen double exper = rnormal(5,10)

. replace exper = 0 if exper<=0
(308695 real changes made)

. 
. l ID period afqt exper fact noise in 1/20, sepby(ID)

     +--------------------------------------------------------------+
     | ID   period        afqt       exper        fact        noise |
     |--------------------------------------------------------------|
  1. |  1        1   -.0727612   10.517894   -.1499804    .27780047 |
  2. |  1        2   -.0727612           0   -.1499804   -.59207548 |
  3. |  1        3   -.0727612   3.0973262   -.1499804   -.16416722 |
  4. |  1        4   -.0727612           0   -.1499804   -.02865648 |
  5. |  1        5   -.0727612   6.3676506   -.1499804   -.63068344 |
  6. |  1        6   -.0727612   32.832796   -.1499804    .12636345 |
  7. |  1        7   -.0727612   10.623903   -.1499804    .36503525 |
  8. |  1        8   -.0727612   1.9413189   -.1499804    .27430246 |
  9. |  1        9   -.0727612   5.3249013   -.1499804   -.41482551 |
 10. |  1       10   -.0727612   8.7060634   -.1499804    -.2994819 |
     |--------------------------------------------------------------|
 11. |  2        1    .2388217   6.2792367    .6955332    .18131025 |
 12. |  2        2    .2388217           0    .6955332       .13247 |
 13. |  2        3    .2388217           0    .6955332   -.11378238 |
 14. |  2        4    .2388217           0    .6955332   -.07842907 |
 15. |  2        5    .2388217           0    .6955332    .49519487 |
 16. |  2        6    .2388217           0    .6955332    .29750167 |
 17. |  2        7    .2388217           0    .6955332    .37808687 |
 18. |  2        8    .2388217   1.9824644    .6955332   -.11444918 |
 19. |  2        9    .2388217           0    .6955332    .50333962 |
 20. |  2       10    .2388217   7.7976537    .6955332   -.12039676 |
     +--------------------------------------------------------------+

. 
. gen lnWage = `=bcons' + `=bafqt'*afqt + `=bexper'*exper + `=alpha'*fact + noise

. 
. reg lnWage afqt exper

      Source |       SS       df       MS              Number of obs = 1000000
-------------+------------------------------           F(  2,999997) =       .
       Model |  160662.093     2  80331.0463           Prob > F      =  0.0000
    Residual |   224728.96999997  .224729634           R-squared     =  0.4169
-------------+------------------------------           Adj R-squared =  0.4169
       Total |  385391.053999999  .385391438           Root MSE      =  .47406

------------------------------------------------------------------------------
      lnWage |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        afqt |   .1505397   .0004729   318.35   0.000     .1496129    .1514666
       exper |   .0499885   .0000638   783.68   0.000     .0498635    .0501136
       _cons |   1.449257     .00065  2229.74   0.000     1.447983    1.450531
------------------------------------------------------------------------------

. 
. xtreg lnWage afqt exper, re

Random-effects GLS regression                   Number of obs      =   1000000
Group variable: ID                              Number of groups   =    100000

R-sq:  within  = 0.5290                         Obs per group: min =        10
       between = 0.2431                                        avg =      10.0
       overall = 0.4169                                        max =        10

                                                Wald chi2(2)       =  1.04e+06
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------------------------------------------------------------------
      lnWage |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        afqt |   .1505394   .0010669   141.10   0.000     .1484484    .1526305
       exper |   .0499518   .0000494  1011.53   0.000      .049855    .0500486
       _cons |   1.449513   .0011236  1290.06   0.000     1.447311    1.451715
-------------+----------------------------------------------------------------
     sigma_u |  .31959032
     sigma_e |  .35013381
         rho |  .45448859   (fraction of variance due to u_i)
------------------------------------------------------------------------------

. 
. log close
      name:  <unnamed>
       log:  /work/A0943_vjh3_group/Estimation/gsemPractice/gsemMonteCarloRandomEffect.log
  log type:  text
 closed on:   7 Jan 2014, 13:31:08
---------------------------------------------------------------------------------------------------------------------------------
